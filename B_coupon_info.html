<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brainstem | 優惠券資訊</title>
    @@include('./layout/style.html')
</head>

<body class="B">
    <!-- header -->
    @@include('./layout/B_header.html')

    <main class="B_coupon_info">
        <!-- 左側選單列 -->
        @@include('./layout/B_nav.html')

        <!-- 右側 -->
        <div class="right col-12">
            <a href="./B_coupon.html">
                <h6>回上一頁</h6>
            </a>
            <div class="right_main" id="B_coupon_info">
                <form action="" method="">
                    <div class="B_button">
                        <h4>優惠券內容</h4>
                        <button class="btn" onclick="B_coupon_info_2(event)">修改內容</button>
                    </div>
                    <ul>
                        <li>
                            <h6>優惠券編號</h6>
                            <h6>{{coupon.COUPON_CODE}}</h6>
                        </li>
                        <li>
                            <h6>優惠券標題 </h6>
                            <h6>{{coupon.COUPON_NAME}}</h6>
                        </li>
                        <li class="B_grid_two">
                            <h6>優惠券內容</h6>
                            <h6>{{coupon.COUPON_DETAIL}}</h6>
                        </li>
                        <li class="B_grid_two">
                            <h6>優惠券使用時間</h6>
                            <h6>{{coupon.COUPON_BEGIN}}~{{coupon.COUPON_END}}</h6>
                        </li>
                        <li>
                            <h6>折扣類型</h6>
                            <h6>折扣金額</h6>
                            <h6>${{coupon.COUPON_DISCOUNT}}元</h6>
                        </li>
                        <li>
                            <h6>使用規則</h6>
                            <h6>{{coupon.MINIMUM_LIMIT}}</h6>
                        </li>
                    </ul>
                </form>

            </div>
        </div>

    </main>
    @@include('./layout/js.html')
    <script>
        function B_coupon_info_2(e) {
            e.preventDefault();
            window.location.href = "./B_coupon_info_2.html"
        }
    </script>

<script>
    //渲染單獨訂單資料
    Vue.createApp({
        data() {
            return {
                coupon: []
            }
        },
        methods: {

        },
        mounted() {
            // 获取URL中的会员ID参数
            const urlParams = new URLSearchParams(window.location.search);
            const couponId = urlParams.get('id');

            // 根据会员ID从服务器请求完整的会员数据
            axios.get(php_url + 'B_coupon.php?id=' + couponId)
                .then((response) => {
                    this.coupon = response.data;
                    console.log(this.coupon);
                    // console.log(this.order.GAME_COVER);
                })
                .catch((error) => {
                    console.error(error);
                });
        }
    }).mount('#B_coupon_info')
</script>
</body>

</html>