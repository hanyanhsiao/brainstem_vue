<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brainstem | 登入</title>
    @@include('./layout/style.html')
    <!-- 以下可以放自己的link -->
</head>

<body>
    <!-- header -->
    @@include('./layout/header.html')
    <main class="login">
        <section class="login_block col-4">
            <div class="log_title">
                <div class="logo"><img src="./pic/img/LOGO/WEB LOGO.png" alt=""></div>
                <h2>登入</h2>
            </div>
            <form action="" class="margin">
                <label for="account">帳號</label>
                <input type="text" id="account" placeholder="請輸入帳號 或 電子信箱">
                <label for="password">密碼</label>
                <input type="password" id="password" placeholder="請輸入密碼">
                <button type="submit" class="btn login_btn">登入</button>
            </form>
            <div class="flex margin">
                <div class="forget"><a href="forget.html">忘記密碼</a></div>
                <div class="register"><a href="register.html">建立新帳號</a></div>
                <div class="member_center"><a href="member_center.html">會員中心</a></div>
            </div>
            <div class="quick_login margin">
                <a class="FB_login" href="#">
                    <h3><i class="bi bi-facebook"></i>使用Facebook登入</h3>
                </a>
                <a class="Google_login" href="#">
                    <h3><i class="bi bi-google"></i>使用Google登入</h3>
                </a>
            </div>
            <div id="buttonDiv" style="display: block;"></div>
            </div>
            <div class="suceesfully">
                <i class="bi bi-check-lg"></i>
                <h2>登入成功</h2>
            </div>
            </div>
        </section>
    </main>


    <!-- javascript -->
    @@include('./layout/js.html')
    <!-- 以下可以放自己的js -->
    <script>
        $(document).ready(function () {
            let login = $('.login_btn');
            let suceesfully = $('.suceesfully');
            login.on('click', function () {
                event.preventDefault();
                suceesfully.css('display', 'flex');
                setTimeout(function () {
                    window.location.href = 'index.html';
                }, 2000);
            });
        });

    </script>


    <!-- ===============google登入==================== -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <script>

        function handleCredentialResponse(response) {
            console.log("Encoded JWT ID token: " + response.credential);
        }

        window.onload = function () {
            // 製作假按鈕
            const googleButton = document.createElement("div");
            // console.log(googleButton);
            google.accounts.id.initialize({
                client_id: "1009962510587-tekusjs8llvchnjikbp26let96r64d6r.apps.googleusercontent.com",
                callback: handleCredentialResponse
            });
            google.accounts.id.renderButton(
                googleButton,
                { theme: "outline", size: "large" }  // customization attributes
            );
            google.accounts.id.prompt(); // also display the One Tap dialog

            //抓取原本按鈕
            let googleLogin = document.querySelector('.Google_login');
            // console.log(googleLogin);

            googleLogin.addEventListener('click', function (e) {
                e.preventDefault();
                googleButton.querySelector("div[role=button]").click();
            })
        }
    </script>
</body>

</html>